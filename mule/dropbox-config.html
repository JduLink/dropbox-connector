
<!DOCTYPE html>


































































<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <meta name="description" content="Documentation for Mule Dropbox Cloud Connector." />

<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico" />
<title>

  DropboxConnector


| Mule Dropbox Cloud Connector

</title>
<link href="../assets/mule-developer-docs.css" rel="stylesheet" type="text/css" />
<link href="../assets/mule-developer-prettify.css" rel="stylesheet" type="text/css" />
<link href="../assets/customizations.css" rel="stylesheet" type="text/css" />
<link href='http://fonts.googleapis.com/css?family=Ubuntu:300' rel='stylesheet' type='text/css'>
<script src="../assets/search_autocomplete.js" type="text/javascript"></script>
<script src="../assets/jquery-resizable.min.js" type="text/javascript"></script>
<script src="../assets/jquery-toc.js" type="text/javascript"></script>
<script src="../assets/mule-developer-docs.js" type="text/javascript"></script>
<script src="../assets/prettify.js" type="text/javascript"></script>
<script type="text/javascript">
  setToRoot("../", "../assets/");
</script>
<script src="../assets/customizations.js" type="text/javascript"></script>
<noscript>
  <style type="text/css">
    html,body{overflow:auto;}
    #body-content{position:relative; top:0;}
    #doc-content{overflow:visible;border-left:3px solid #666;}
    #side-nav{padding:0;}
    #side-nav .toggle-list ul {display:block;}
    #resize-packages-nav{border-bottom:3px solid #666;}
  </style>
</noscript>
<script type="text/javascript" charset="utf-8">
  var is_ssl = ("https:" == document.location.protocol);
  var asset_host = is_ssl ? "https://s3.amazonaws.com/getsatisfaction.com/" : "http://s3.amazonaws.com/getsatisfaction.com/";
  document.write(unescape("%3Cscript src='" + asset_host + "javascripts/feedback-v2.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript" charset="utf-8">
  var feedback_widget_options = {};

  feedback_widget_options.display = "overlay";
  feedback_widget_options.company = "mulesoft";
  feedback_widget_options.placement = "right";
  feedback_widget_options.color = "#2F74AE";
  feedback_widget_options.style = "question";

  feedback_widget_options.tag = "Mule Dropbox Cloud Connector";

  feedback_widget_options.limit = "3";

  var feedback_widget = new GSFN.feedback_widget(feedback_widget_options);
</script>
</head>

<body class="">

<div id="header">
    <div id="headerLeft">
    
      <span id="masthead-title">Mule Dropbox Cloud Connector</span>
    
    <ul id="header-tabs" class="mule">
    
    	<li id="guide"><a href="../guide/install.html">
	    	<span class="en">Install Guide</span>
    	</a></li>
    
    	<li id="java"><a href="../java/packages.html">
	    	<span class="en">Java API Reference</span>
    	</a></li>
    
    	<li id="mule"><a href="../mule/modules.html">
	    	<span class="en">Mule API Reference</span>
    	</a></li>
    
    </ul>
    </div>
    <div id="headerRight">
      <a href="http://www.mulesoft.com" tabindex="-1">
      <img src="../assets//images/mulesoft-logo-final.gif" alt="MuleSoft" border="0" id="mulesoftlogo"></a><br/>
      
  <div id="search" >
      <div id="searchForm">
          <form accept-charset="utf-8" class="gsc-search-box" 
                onsubmit="return submit_search()">
            <table class="gsc-search-box" cellpadding="0" cellspacing="0"><tbody>
                <tr>
                  <td class="gsc-input">
                    <input id="search_autocomplete" class="gsc-input" type="text" size="33" autocomplete="off"
                      title="search developer docs" name="q"
                      value="search developer docs"
                      onFocus="search_focus_changed(this, true)"
                      onBlur="search_focus_changed(this, false)"
                      onkeydown="return search_changed(event, true, '../')"
                      onkeyup="return search_changed(event, false, '../')" />
                  <div id="search_filtered_div" class="no-display">
                      <table id="search_filtered" cellspacing=0>
                      </table>
                  </div>
                  </td>
                  <td class="gsc-search-button">
                    <input type="submit" value="Search" title="search" id="search-button" class="gsc-search-button" />
                  </td>
                  <td class="gsc-clear-button">
                    <div title="clear results" class="gsc-clear-button">&nbsp;</div>
                  </td>
                </tr></tbody>
              </table>
          </form>
      </div><!-- searchForm -->
  </div><!-- search -->
      
    </div>
</div><!-- header -->


<div class="g-unit" id="all-content">

<div id="api-info-block">

<div class="sum-details-links">

Summary:
<a href="#lconfig">Configuration</a>



</div><!-- end sum-details-links -->

<div class="api-level">
  


  
  

</div>
</div><!-- end api-info-block -->


<!-- ======== START OF MODULE DATA ======== -->

<div id="jd-header">
    org.mule.modules
<h1>Dropbox-connector</h1>
    config

</div><!-- end header -->

<div id="naMessage"></div>

<div id="jd-content" class="api apilevel-">


<br/>

<div class="jd-tagdata">
      <table class="jd-tagtable">
        <tbody><tr>
          <th>Namespace</th><td>http://www.mulesoft.org/schema/mule/dropbox</td>
        </tr><tr>
          <th>Schema Location</th><td>http://www.mulesoft.org/schema/mule/dropbox/current/mule-dropbox.xsd&nbsp;&nbsp;(<a href="dropbox-schema.html">View Schema</a>)</td>
        </tr>
<tr>
          <th>Schema Version</th><td>3.2.2</td>
        </tr>
<tr>
          <th>Minimum Mule Version</th><td>3.2</td>
        </tr>
    </tbody></table>
  </div>

<div class="jd-descr">


<h2>Module Overview</h2>
<p>Dropbox Cloud Connector.
 The Dropbox Connector will allow to use the Dropbox REST API. Almost every operation that can be done via the API can be done thru this connector.</p>


</div><!-- jd-descr -->











<div class="jd-descr">


<h2>Summary</h2>

<!-- Config -->

<!-- =========== CONFIG SUMMARY =========== -->
<table id="lconfig" class="jd-sumtable"><tr><th colspan="12">Configuration</th></tr>
	 
    <tr class=" api apilevel-" >
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../mule/dropbox-config.html#config">&lt;dropbox:config&gt;</a></nobr>
        <div class="jd-descrdiv">Configure an instance of this module</div>
  </td></tr>
</table>



<table id="promethods" class="jd-sumtable">
<tr><th colspan="12">Message Processors<br/><span style="font-weight: 200;"></span></th></tr>
    
    
    <!-- ========== MESSAGE PROCESSOR SUMMARY =========== -->
    


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../mule/dropbox-config.html#create-folder">&lt;dropbox:create-folder&gt;</a></nobr>
        
        <div class="jd-descrdiv">Create new folder on Dropbox
 
 </div>
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../mule/dropbox-config.html#delete">&lt;dropbox:delete&gt;</a></nobr>
        
        <div class="jd-descrdiv">Deletes a file or folder.</div>
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../mule/dropbox-config.html#download-file">&lt;dropbox:download-file&gt;</a></nobr>
        
        <div class="jd-descrdiv">Downloads a file from Dropbox
 
 </div>
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../mule/dropbox-config.html#get-link">&lt;dropbox:get-link&gt;</a></nobr>
        
        <div class="jd-descrdiv">Creates and returns a Dropbox link to files or folders users can use to view a preview of the file in a web browser.</div>
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../mule/dropbox-config.html#list">&lt;dropbox:list&gt;</a></nobr>
        
        <div class="jd-descrdiv">Lists the content of the remote directory
 
 </div>
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../mule/dropbox-config.html#move">&lt;dropbox:move&gt;</a></nobr>
        
        <div class="jd-descrdiv">Moves a file or folder to a new location.</div>
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-linkcol" width="100%"><nobr>
        <span class="sympad"><a href="../mule/dropbox-config.html#upload-file">&lt;dropbox:upload-file&gt;</a></nobr>
        
        <div class="jd-descrdiv">Upload file to Dropbox.</div>
        
  </td></tr>



    
    
    
</table>











</div><!-- jd-descr (summary) -->


<!-- ========= CONFIGURATION DETAIL ======== -->
<A NAME="config"></A>
<h2>Configuration</h2>
<p>To use the this module within a flow the namespace to the module must be included. The resulting flow will look
similar to the following:</p>
<pre>
&lt;mule xmlns="http://www.mulesoft.org/schema/mule/core"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:dropbox="http://www.mulesoft.org/schema/mule/dropbox"
      xsi:schemaLocation="
               http://www.mulesoft.org/schema/mule/core
               http://www.mulesoft.org/schema/mule/core/current/mule.xsd
               http://www.mulesoft.org/schema/mule/dropbox
               http://www.mulesoft.org/schema/mule/dropbox/current/mule-dropbox.xsd"&gt;

      &lt;!-- here goes your flows and configuration elements --&gt;

&lt;/mule&gt;
</pre>

<p>This module is configured using the <i>config</i> element. This element must be placed outside of your flows and at
the root of your Mule application. You can create as many configurations as you deem necessary as long as each carries
its own name.</p>
<p>Each message processor, message source or transformer carries a <i>config-ref</i> attribute that allows the invoker to
specify which configuration to use.</p>
<table id="lconfig" class="jd-sumtable">
<tr><th colspan="12">Attributes</th></tr>
<tr><th>Type</th><th>Name</th><th>Default Value</th><th>Description</th><th>Java Type</th><th>MIME Type</th><th>Encoding</th></tr>
<td class="jd-typecol"><nobr>xs:string</nobr></td>
<td class="jd-linkcol"><nobr>name</nobr></td>
<td class="jd-descrcol"></td>
<td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>Give a name to this configuration so it can be later referenced.</td>
<td/><td/><td/>

    
      <tr class=" api apilevel-" >
          <td class="jd-typecol"><nobr>
          xs:string</nobr></td>
          <td class="jd-linkcol"><nobr>appKey</nobr></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol" width="100%">Application key
</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
      </tr>
      
    
      <tr class="alt-color api apilevel-" >
          <td class="jd-typecol"><nobr>
          xs:string</nobr></td>
          <td class="jd-linkcol"><nobr>appSecret</nobr></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol" width="100%">Application secret
</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
      </tr>
      
    
      <tr class=" api apilevel-" >
          <td class="jd-typecol"><nobr>
          xs:string</nobr></td>
          <td class="jd-linkcol"><nobr>contentServer</nobr></td>
          <td class="jd-descrcol">api-content.dropbox.com</td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>URL of the Dropbox server content API
</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
      </tr>
      
    
      <tr class="alt-color api apilevel-" >
          <td class="jd-typecol"><nobr>
          xs:boolean</nobr></td>
          <td class="jd-linkcol"><nobr>debug</nobr></td>
          <td class="jd-descrcol">false</td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>debug mode
</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
      </tr>
      
    
      <tr class=" api apilevel-" >
          <td class="jd-typecol"><nobr>
          xs:int</nobr></td>
          <td class="jd-linkcol"><nobr>port</nobr></td>
          <td class="jd-descrcol">80</td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>Dropbox server port
</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
      </tr>
      
    
      <tr class="alt-color api apilevel-" >
          <td class="jd-typecol"><nobr>
          xs:string</nobr></td>
          <td class="jd-linkcol"><nobr>server</nobr></td>
          <td class="jd-descrcol">api.dropbox.com</td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>URL of the Dropbox server API
</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
      </tr>
      
    
    
      <tr class=" api apilevel-" >
          <td class="jd-typecol"><nobr>xs:string</nobr></td>
          <td class="jd-linkcol"><nobr>authorizationUrl</nobr></td>
          <td class="jd-descrcol">https://www.dropbox.com/1/oauth/authorize</td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>The URL defined by the Service Provider where the resource owner will be redirected to grant authorization to the connector</td>
      </tr>
      
      <tr class="alt-color api apilevel-" >
          <td class="jd-typecol"><nobr>xs:string</nobr></td>
          <td class="jd-linkcol"><nobr>accessTokenUrl</nobr></td>
          <td class="jd-descrcol">https://api.dropbox.com/1/oauth/access_token</td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>The URL defined by the Service Provider to obtain an access token</td>
      </tr>
      
      <tr class=" api apilevel-" >
          <td class="jd-typecol"><nobr>xs:string</nobr></td>
          <td class="jd-linkcol"><nobr>requestTokenUrl</nobr></td>
          <td class="jd-descrcol">https://api.dropbox.com/1/oauth/request_token</td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>The URL defined by the Service Provider used to obtain an un-authorized request token</td>
      </tr>
      
    
    
</table>








<!-- ========= OAUTH DETAIL ======== -->
<h2>OAuth</h2>
<p>This connector uses OAuth as an authorization and authentication mechanism. All the message processors or sources that require the connector
to be authorized by the service provider will throw a NotAuthorizedException until the connector is authorized properly.</p>
<p>Authorizing the connector is a simple process of calling:</p>
<pre>
    &lt;dropbox:authorize/&gt;
</pre>
<p>The call to authorize message processor must be made from a message coming from an HTTP inbound endpoint as the authorize process will
reply with a redirect to the service provider. The following is an example of how to use it in a flow with an HTTP inbound endpoint:</p>
<pre>
    &lt;flow name="authorizationAndAuthenticationFlow"&gt;
        &lt;http:inbound-endpoint host="localhost" port="8080" path="oauth-authorize"/&gt;
        &lt;dropbox:authorize/&gt;
    &lt;/flow&gt;
</pre>
<p>If you hit that endpoint via a web-browser it will initiate the OAuth dance, redirecting the user to the service provider page
and creating a callback endpoint so the service provider can call us back once the user has been authenticated. Once the callback
gets called then the connector will switch to an authorized state and any message processor or source that requires authentication
can be called.</p>
<p>The authorize message processor supports the following attributes:</p>
<table id="lconfig" class="jd-sumtable">
<tr><th colspan="12">Authorize Attributes</th></tr>
<tr><th>Name</th><th>Default Value</th><th>Description</th></tr>

    

    
      <tr class=" api apilevel-" >
          <td class="jd-linkcol"><nobr>authorizationUrl</nobr></td>
          <td class="jd-descrcol">https://www.dropbox.com/1/oauth/authorize</td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>The URL defined by the Service Provider where the resource owner will be redirected to grant authorization to the connector</td>
      </tr>
      
      <tr class="alt-color api apilevel-" >
          <td class="jd-linkcol"><nobr>accessTokenUrl</nobr></td>
          <td class="jd-descrcol">https://api.dropbox.com/1/oauth/access_token</td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>The URL defined by the Service Provider to obtain an access token</td>
      </tr>
      
      <tr class=" api apilevel-" >
          <td class="jd-linkcol"><nobr>requestTokenUrl</nobr></td>
          <td class="jd-descrcol">https://api.dropbox.com/1/oauth/request_token</td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>The URL defined by the Service Provider used to obtain an un-authorized request token</td>
      </tr>
      
    
    

</table>
<h3>After Authorization</h3>
<p>The <i>authorize</i> message processor is an intercepting one. If the connector is not authorized yet, it will with a redirect
to the service provider so the user can authorize the connector. This is the reason as to why the authorize needs to be behind
and <i>http:inbound-endpoint</i>. The service provider upon successful authentication and authorization then will call back the
connector. The connector will extract information from that call, set its internal state to authorized, and then continue
execution. When we say continue execution we mean executing everything that was after the authorize whose execution got
interrupted because the connector was not authorized.</p>
<pre>
  &lt;flow name="authorizationAndAuthenticationFlow"&gt;
      &lt;http:inbound-endpoint host="localhost" port="8080" path="oauth-authorize"/&gt;
      &lt;dropbox:authorize/&gt;
      &lt;http:response-builder status="200"&gt;
          &lt;set-payload value="You have successfully authorized the connector"/&gt;
      &lt;/http:response-builder&gt;
  &lt;/flow&gt;
</pre>
<p>In the previous example we added the <i>http:response-build</i> (notice that this element is available only in Mule 3.3.0 and later). If
the connector is not authorized, the execution of the response builder will be delayed up to the point of the callback execution.</p>
<p>On the other hand if the connector has been authorized and you call <i>authorize</i> again then the flow execution will not stop, it will
rather continue and the <i>http:response-builder</i> will get executed right away rather than after the callback.</p>
<h3>Error Handling during Authorization</h3>
<p>If for any reason, an errors ocurrs while processing the callback, the exception strategy of the flow containing the authorize will be
executed. So, if the callback sent the wrong information you can handle that situation by setting up an exception strategy as follows:</p>
<pre>
  &lt;flow name="authorizationAndAuthenticationFlow"&gt;
      &lt;http:inbound-endpoint host="localhost" port="8080" path="oauth-authorize"/&gt;
      &lt;dropbox:authorize/&gt;
      &lt;http:response-builder status="200"&gt;
          &lt;set-payload value="You have successfully authorized the connector"/&gt;
      &lt;/http:response-builder&gt;
      &lt;catch-exception-strategy&gt;
         &lt;http:response-builder status="404"&gt;
             &lt;set-payload value="An error has occurred authorizing the connector"/&gt;
         &lt;/http:response-builder&gt;
      &lt;/catch-exception-strategy&gt;
  &lt;/flow&gt;
</pre>
<h3>Unauthorize</h3>
<p>Once this connector has been authorized further calls to the <i>authorize</i> message processor will be no-ops. If you wish to reset
the state of the connector back to a non-authorized state you can call:</p>
<pre>
    &lt;dropbox:unauthorize/&gt;
</pre>
<p>Keep in mind that after the connector is unauthorized all future calls that attempt to access protected resources will fail until
 the connector is re-authorized.</p>
<h3>Callback Customization</h3>
<p>As mentioned earlier once authorize gets called and before we redirect the user to the service provider we create a callback
endpoint. The callback endpoint will get called automatically by the service provider once the user is authenticated and he
grants authorization to the connector to access his private information.</p>
<p>The callback can be customized in the config element of the this connector as follows:</p>
<pre>
    &lt;dropbox:config&gt;
        &lt;dropbox:oauth-callback-config domain="${fullDomain}" localPort="${http.port}" remotePort="80"/&gt;
    &lt;/dropbox:config&gt;
</pre>
<p>The <i>oauth-callback-config</i> element can be used to customize the endpoint that gets created for the callback. It
features the following attributes:</p>
<table id="lconfig" class="jd-sumtable">
<tr><th colspan="12">OAuth Callback Config Attributes</th></tr>
<tr><th>Name</th><th>Description</th></tr>
<tr class="api" >
<td class="jd-linkcol"><nobr>connector-ref</nobr></td>
<td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>Reference to a user-defined HTTP connector.</td>
</tr>
<tr class="api" >
<td class="jd-linkcol"><nobr>domain</nobr></td>
<td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>The domain portion of the callback URL. This is usually something like xxx.cloudhub.io if you are deploying to CloudHub for example.</td>
</tr>
<tr class="api" >
<td class="jd-linkcol"><nobr>localPort</nobr></td>
<td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>The local port number that the endpoint will listen on. Normally 80, in the case of CloudHub you can use the environment variable ${http.port}.</td>
</tr>
<tr class="api" >
<td class="jd-linkcol"><nobr>remotePort</nobr></td>
<td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>This is the port number that we will tell the service provider we are listening on. It is usually the same as localPort but it is separated in case your deployment features port forwarding or a proxy.</td>
</tr>
<tr class="api" >
<td class="jd-linkcol"><nobr>path</nobr></td>
<td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>Path under which the callback should be exposed. If not specified a random path will be generated.</td>
</tr>
</table>
<p class="caution">The example shown above is what the configuration would look like if your app would be deployed to CloudHub.</p>
<h3>Saving and Restoring State</h3>
<p>Once the service providers hits the callback it will do so in way that state information it is also sent. This state information
is later used by the connector on each call made to the service provider to let him know that we have completed the authorization
and authentication process.<p>
<p>The state information is currently held in-memory but the connector offers hooks to save/restore this state. The ammount of information
that needs to be saved and/or restored varies between version of the OAuth specification. At the bare minimum for OAuth 1.0a that needs
to be the OAuth access token and OAuth access token secret.</p>
<p>The following is an example of how to log the access token and access token secret.<p>
<pre>
    &lt;dropbox:config&gt;
        &lt;dropbox:oauth-save-access-token&gt;
            &lt;logger level="INFO" message="Received access token #[variable:OAuthAccessToken] and #[variable:OAuthAccessTokenSecret]"/&gt;
        &lt;/dropbox:oauth-save-access-token&gt;
    &lt;/dropbox:config&gt;
</pre>
<p>The <i>oauth-save-access-token</i> is a message processor chain and you can add inside of it as many message processors as you want. The chain will
be called with special inbound properties in the message which the information that needs saved.</p>
<p>Restoring the information is equally simple:</p>
<pre>
    &lt;dropbox:config&gt;
        &lt;dropbox:oauth-restore-access-token&gt;
            &lt;message-properties-transformer scope="invocation"&gt;
                &lt;add-message-property key="OAuthAccessToken" value="123"/&gt;
                &lt;add-message-property key="OAuthAccessTokenSecret" value="567"/&gt;
            &lt;/message-properties-transformer&gt;
        &lt;/dropbox:oauth-restore-access-token&gt;
    &lt;/dropbox:config&gt;
</pre>
<p>The example above does not do anything useful expect hardcode the access token and the token secret to 123 and 567 respectively. Just like
<i>oauth-save-access-token</i>, <i>oauth-restore-access-token</i> is another message processor chain. Once the chain is done executing
we will extract the OAuth access token property and OAuth access token secret property values.</p>
<p>The following shows a full example on how to save and restore using Mule ObjectStore Module to store the information inside an object store.<p>
<pre>
&lt;mule xmlns="http://www.mulesoft.org/schema/mule/core"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:dropbox="http://www.mulesoft.org/schema/mule/dropbox"
      xmlns:objectstore="http://www.mulesoft.org/schema/mule/objectstore"
      xsi:schemaLocation="
               http://www.mulesoft.org/schema/mule/core
               http://www.mulesoft.org/schema/mule/core/current/mule.xsd
               http://www.mulesoft.org/schema/mule/objectstore
               http://www.mulesoft.org/schema/mule/objectstore/1.0/mule-objectstore.xsd
               http://www.mulesoft.org/schema/mule/dropbox
               http://www.mulesoft.org/schema/mule/dropbox/current/mule-dropbox.xsd"&gt;

    &lt;dropbox:config&gt;
        &lt;dropbox:oauth-save-access-token&gt;
            &lt;objectstore:store key="OAuthAccessToken" value-ref="#[variable:OAuthAccessToken]"/&gt;
            &lt;objectstore:store key="OAuthAccessTokenSecret" value-ref="#[variable:OAuthAccessTokenSecret]"/&gt;
        &lt;/dropbox:oauth-save-access-token&gt;
        &lt;dropbox:oauth-restore-access-token&gt;
            &lt;enricher target="#[header:OAuthAccessToken]"&gt;
                &lt;objectstore:retrieve key="OAuthAccessToken"/&gt;
            &lt;/enricher&gt;
            &lt;enricher target="#[header:OAuthAccessTokenSecret]"&gt;
                &lt;objectstore:retrieve key="OAuthAccessTokenSecret"/&gt;
            &lt;/enricher&gt;
        &lt;/dropbox:oauth-restore-access-token&gt;
    &lt;/dropbox:config&gt;

&lt;/mule&gt;
</pre>









<!-- ========= MESSAGE PROCESSOR DETAIL ======== -->
<!-- Message Processors -->
<h2>Message Processors</h2>


    
    


<A NAME="create-folder"></A>

<div class="jd-details api apilevel-">
    <h4 class="jd-details-title">
      <span class="sympad">&lt;dropbox:create-folder&gt;</span>
    </h4>
      <div class="api-level">
        <div>

</div>
      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Create new folder on Dropbox
 
 <div class="jd-tagdata"><h5 class="jd-tagtitle">XML Sample</h5><pre>&lt;dropbox:create-folder path="foo/bar"/&gt;</pre></div></p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Attributes</h5>

        <table id="lconfig" class="jd-sumtable">
        <tr><th>Name</th><th>Default Value</th><th>Description</th><th>Java Type</th><th>MIME Type</th><th>Encoding</th></tr>
        <tr>
          <td class="jd-linkcol"><nobr>config-ref</nobr></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>Specify which configuration to use.</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
        </tr>
          
          
                
                    <tr class=" api apilevel-" >
                        <td class="jd-linkcol"><nobr>path</nobr></td>
                        <td class="jd-descrcol"></td>
                        <td class="jd-descrcol">Full path of the folder to be created</td>
                        <td class="jd-descrcol">String</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol">UTF-8</td>
                    </tr>
                
                
          
          
          
        </table>
  </div>
  
  
      <div class="jd-tagdata">
         <h5 class="jd-tagtitle">Returns</h5>
         <table id="lconfig" class="jd-sumtable">
             <tr>
                <th>Return Type</th>
                <th>Description</th>
             </tr>
             <tr>
                <td class="jd-descrcol">String</td>
                <td class="jd-descrcol">http response</td>
             </tr>
         </table>
  </div>
    
  
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Exception Payloads</h5>
      <table class="jd-sumtable">
        <tr><th>Payload Class</th><th>Description</th></tr>
        
        <tr>
            <td>Exception</td>
            <td>exception
</td>
        </tr>
      </table>
  </div>

    </div>
</div>


<A NAME="delete"></A>

<div class="jd-details api apilevel-">
    <h4 class="jd-details-title">
      <span class="sympad">&lt;dropbox:delete&gt;</span>
    </h4>
      <div class="api-level">
        <div>

</div>
      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Deletes a file or folder.
 
 <div class="jd-tagdata"><h5 class="jd-tagtitle">XML Sample</h5><pre>&lt;dropbox:delete path="foo/bar/test.txt"/&gt;</pre></div></p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Attributes</h5>

        <table id="lconfig" class="jd-sumtable">
        <tr><th>Name</th><th>Default Value</th><th>Description</th><th>Java Type</th><th>MIME Type</th><th>Encoding</th></tr>
        <tr>
          <td class="jd-linkcol"><nobr>config-ref</nobr></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>Specify which configuration to use.</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
        </tr>
          
          
                
                    <tr class=" api apilevel-" >
                        <td class="jd-linkcol"><nobr>path</nobr></td>
                        <td class="jd-descrcol"></td>
                        <td class="jd-descrcol">Full path to the file to be deleted</td>
                        <td class="jd-descrcol">String</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol">UTF-8</td>
                    </tr>
                
                
          
          
          
        </table>
  </div>
  
  
      <div class="jd-tagdata">
         <h5 class="jd-tagtitle">Returns</h5>
         <table id="lconfig" class="jd-sumtable">
             <tr>
                <th>Return Type</th>
                <th>Description</th>
             </tr>
             <tr>
                <td class="jd-descrcol">String</td>
                <td class="jd-descrcol">http response</td>
             </tr>
         </table>
  </div>
    
  
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Exception Payloads</h5>
      <table class="jd-sumtable">
        <tr><th>Payload Class</th><th>Description</th></tr>
        
        <tr>
            <td>Exception</td>
            <td>exception
</td>
        </tr>
      </table>
  </div>

    </div>
</div>


<A NAME="download-file"></A>

<div class="jd-details api apilevel-">
    <h4 class="jd-details-title">
      <span class="sympad">&lt;dropbox:download-file&gt;</span>
    </h4>
      <div class="api-level">
        <div>

</div>
      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Downloads a file from Dropbox
 
 <div class="jd-tagdata"><h5 class="jd-tagtitle">XML Sample</h5><pre>&lt;dropbox:download-file path="foo/bar/test.txt"/&gt;</pre></div></p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Attributes</h5>

        <table id="lconfig" class="jd-sumtable">
        <tr><th>Name</th><th>Default Value</th><th>Description</th><th>Java Type</th><th>MIME Type</th><th>Encoding</th></tr>
        <tr>
          <td class="jd-linkcol"><nobr>config-ref</nobr></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>Specify which configuration to use.</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
        </tr>
          
          
                
                    <tr class=" api apilevel-" >
                        <td class="jd-linkcol"><nobr>path</nobr></td>
                        <td class="jd-descrcol"></td>
                        <td class="jd-descrcol">Path to the file</td>
                        <td class="jd-descrcol">String</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol">UTF-8</td>
                    </tr>
                
                
          
                
                    <tr class="alt-color api apilevel-" >
                        <td class="jd-linkcol"><nobr>delete</nobr></td>
                        <td class="jd-descrcol">false</td>
                        <td class="jd-descrcol"><i>Optional.&nbsp;</i>Delete the file on the Dropbox after download (ignored if
            moveTo is set)</td>
                        <td class="jd-descrcol">boolean</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol"></td>
                    </tr>
                
                
          
          
          
        </table>
  </div>
  
  
      <div class="jd-tagdata">
         <h5 class="jd-tagtitle">Returns</h5>
         <table id="lconfig" class="jd-sumtable">
             <tr>
                <th>Return Type</th>
                <th>Description</th>
             </tr>
             <tr>
                <td class="jd-descrcol">InputStream</td>
                <td class="jd-descrcol">Stream containing the downloaded file data</td>
             </tr>
         </table>
  </div>
    
  
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Exception Payloads</h5>
      <table class="jd-sumtable">
        <tr><th>Payload Class</th><th>Description</th></tr>
        
        <tr>
            <td>Exception</td>
            <td>exception
</td>
        </tr>
      </table>
  </div>

    </div>
</div>


<A NAME="get-link"></A>

<div class="jd-details api apilevel-">
    <h4 class="jd-details-title">
      <span class="sympad">&lt;dropbox:get-link&gt;</span>
    </h4>
      <div class="api-level">
        <div>

</div>
      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Creates and returns a Dropbox link to files or folders users can use to view a preview of the file in a web browser.
 
 <div class="jd-tagdata"><h5 class="jd-tagtitle">XML Sample</h5><pre>&lt;dropbox:get-link path="/home/user"/&gt;</pre></div></p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Attributes</h5>

        <table id="lconfig" class="jd-sumtable">
        <tr><th>Name</th><th>Default Value</th><th>Description</th><th>Java Type</th><th>MIME Type</th><th>Encoding</th></tr>
        <tr>
          <td class="jd-linkcol"><nobr>config-ref</nobr></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>Specify which configuration to use.</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
        </tr>
          
          
                
                    <tr class=" api apilevel-" >
                        <td class="jd-linkcol"><nobr>path</nobr></td>
                        <td class="jd-descrcol"></td>
                        <td class="jd-descrcol">The path to the file or folder you want to link to.</td>
                        <td class="jd-descrcol">String</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol">UTF-8</td>
                    </tr>
                
                
          
                
                    <tr class="alt-color api apilevel-" >
                        <td class="jd-linkcol"><nobr>shortUrl</nobr></td>
                        <td class="jd-descrcol">true</td>
                        <td class="jd-descrcol"><i>Optional.&nbsp;</i>Boolean indicating if the url returned will be shortened using the Dropbox url shortener (when true) or will link directly to the file's preview page (when false).</td>
                        <td class="jd-descrcol">Boolean</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol"></td>
                    </tr>
                
                
          
          
          
        </table>
  </div>
  
  
      <div class="jd-tagdata">
         <h5 class="jd-tagtitle">Returns</h5>
         <table id="lconfig" class="jd-sumtable">
             <tr>
                <th>Return Type</th>
                <th>Description</th>
             </tr>
             <tr>
                <td class="jd-descrcol">String</td>
                <td class="jd-descrcol">String. A Dropbox link to the given path.</td>
             </tr>
         </table>
  </div>
    
  
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Exception Payloads</h5>
      <table class="jd-sumtable">
        <tr><th>Payload Class</th><th>Description</th></tr>
        
        <tr>
            <td>Exception</td>
            <td>exception
</td>
        </tr>
      </table>
  </div>

    </div>
</div>


<A NAME="list"></A>

<div class="jd-details api apilevel-">
    <h4 class="jd-details-title">
      <span class="sympad">&lt;dropbox:list&gt;</span>
    </h4>
      <div class="api-level">
        <div>

</div>
      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Lists the content of the remote directory
 
 <div class="jd-tagdata"><h5 class="jd-tagtitle">XML Sample</h5><pre>&lt;dropbox:list path="foo/bar"/&gt;</pre></div></p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Attributes</h5>

        <table id="lconfig" class="jd-sumtable">
        <tr><th>Name</th><th>Default Value</th><th>Description</th><th>Java Type</th><th>MIME Type</th><th>Encoding</th></tr>
        <tr>
          <td class="jd-linkcol"><nobr>config-ref</nobr></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>Specify which configuration to use.</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
        </tr>
          
          
                
                    <tr class=" api apilevel-" >
                        <td class="jd-linkcol"><nobr>path</nobr></td>
                        <td class="jd-descrcol"></td>
                        <td class="jd-descrcol">Path to the remote directory</td>
                        <td class="jd-descrcol">String</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol">UTF-8</td>
                    </tr>
                
                
          
          
          
        </table>
  </div>
  
  
      <div class="jd-tagdata">
         <h5 class="jd-tagtitle">Returns</h5>
         <table id="lconfig" class="jd-sumtable">
             <tr>
                <th>Return Type</th>
                <th>Description</th>
             </tr>
             <tr>
                <td class="jd-descrcol">List&lt;String&gt;</td>
                <td class="jd-descrcol">List of files and/or folders</td>
             </tr>
         </table>
  </div>
    
  
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Exception Payloads</h5>
      <table class="jd-sumtable">
        <tr><th>Payload Class</th><th>Description</th></tr>
        
        <tr>
            <td>Exception</td>
            <td>exception
</td>
        </tr>
      </table>
  </div>

    </div>
</div>


<A NAME="move"></A>

<div class="jd-details api apilevel-">
    <h4 class="jd-details-title">
      <span class="sympad">&lt;dropbox:move&gt;</span>
    </h4>
      <div class="api-level">
        <div>

</div>
      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Moves a file or folder to a new location.
 
 <div class="jd-tagdata"><h5 class="jd-tagtitle">XML Sample</h5><pre>&lt;dropbox:move from="foo/bar/test.txt" to="/home/user"/&gt;</pre></div></p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Attributes</h5>

        <table id="lconfig" class="jd-sumtable">
        <tr><th>Name</th><th>Default Value</th><th>Description</th><th>Java Type</th><th>MIME Type</th><th>Encoding</th></tr>
        <tr>
          <td class="jd-linkcol"><nobr>config-ref</nobr></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>Specify which configuration to use.</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
        </tr>
          
          
                
                    <tr class=" api apilevel-" >
                        <td class="jd-linkcol"><nobr>from</nobr></td>
                        <td class="jd-descrcol"></td>
                        <td class="jd-descrcol">Specifies the file or folder to be moved from, relative to
            root.</td>
                        <td class="jd-descrcol">String</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol">UTF-8</td>
                    </tr>
                
                
          
                
                    <tr class="alt-color api apilevel-" >
                        <td class="jd-linkcol"><nobr>to</nobr></td>
                        <td class="jd-descrcol"></td>
                        <td class="jd-descrcol">Specifies the destination path, including the new name for the
            file or folder, relative to root.</td>
                        <td class="jd-descrcol">String</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol">UTF-8</td>
                    </tr>
                
                
          
          
          
        </table>
  </div>
  
  
      <div class="jd-tagdata">
         <h5 class="jd-tagtitle">Returns</h5>
         <table id="lconfig" class="jd-sumtable">
             <tr>
                <th>Return Type</th>
                <th>Description</th>
             </tr>
             <tr>
                <td class="jd-descrcol">String</td>
                <td class="jd-descrcol">http response</td>
             </tr>
         </table>
  </div>
    
  
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Exception Payloads</h5>
      <table class="jd-sumtable">
        <tr><th>Payload Class</th><th>Description</th></tr>
        
        <tr>
            <td>Exception</td>
            <td>exception
</td>
        </tr>
      </table>
  </div>

    </div>
</div>


<A NAME="upload-file"></A>

<div class="jd-details api apilevel-">
    <h4 class="jd-details-title">
      <span class="sympad">&lt;dropbox:upload-file&gt;</span>
    </h4>
      <div class="api-level">
        <div>

</div>
      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Upload file to Dropbox. The payload is an InputStream containing bytes of
 the data to be uploaded.
 
 <div class="jd-tagdata"><h5 class="jd-tagtitle">XML Sample</h5><pre>&lt;dropbox:upload-file path="foo/bar" filename="test.txt"/&gt;</pre></div></p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Attributes</h5>

        <table id="lconfig" class="jd-sumtable">
        <tr><th>Name</th><th>Default Value</th><th>Description</th><th>Java Type</th><th>MIME Type</th><th>Encoding</th></tr>
        <tr>
          <td class="jd-linkcol"><nobr>config-ref</nobr></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol" width="100%"><i>Optional.&nbsp;</i>Specify which configuration to use.</td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
          <td class="jd-descrcol"></td>
        </tr>
          
          
                
                    <tr class=" api apilevel-" >
                        <td class="jd-linkcol"><nobr>fileDataObj</nobr></td>
                        <td class="jd-descrcol"></td>
                        <td class="jd-descrcol">File to be uploaded</td>
                        <td class="jd-descrcol">InputStream</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol"></td>
                    </tr>
                
                
          
                
                    <tr class="alt-color api apilevel-" >
                        <td class="jd-linkcol"><nobr>overwrite</nobr></td>
                        <td class="jd-descrcol">true</td>
                        <td class="jd-descrcol"><i>Optional.&nbsp;</i>Overwrite file in case it already exists           </td>
                        <td class="jd-descrcol">Boolean</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol"></td>
                    </tr>
                
                
          
                
                    <tr class=" api apilevel-" >
                        <td class="jd-linkcol"><nobr>path</nobr></td>
                        <td class="jd-descrcol"></td>
                        <td class="jd-descrcol">The destination path</td>
                        <td class="jd-descrcol">String</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol">UTF-8</td>
                    </tr>
                
                
          
                
                    <tr class="alt-color api apilevel-" >
                        <td class="jd-linkcol"><nobr>filename</nobr></td>
                        <td class="jd-descrcol"></td>
                        <td class="jd-descrcol">The destination file name</td>
                        <td class="jd-descrcol">String</td>
                        <td class="jd-descrcol">*/*</td>
                        <td class="jd-descrcol">UTF-8</td>
                    </tr>
                
                
          
          
          
        </table>
  </div>
  
  
      <div class="jd-tagdata">
         <h5 class="jd-tagtitle">Returns</h5>
         <table id="lconfig" class="jd-sumtable">
             <tr>
                <th>Return Type</th>
                <th>Description</th>
             </tr>
             <tr>
                <td class="jd-descrcol">String</td>
                <td class="jd-descrcol">http response</td>
             </tr>
         </table>
  </div>
    
  
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Exception Payloads</h5>
      <table class="jd-sumtable">
        <tr><th>Payload Class</th><th>Description</th></tr>
        
        <tr>
            <td>Exception</td>
            <td>exception
</td>
        </tr>
      </table>
  </div>

    </div>
</div>


    





<!-- ========= MESSAGE SOURCES DETAIL ======== -->
<!-- Message Sources -->
<h2>Message Sources</h2>


    





<!-- ========= MESSAGE SOURCES DETAIL ======== -->
<!-- Transformers -->
<h2>Transformers</h2>


    





<!-- ========= END OF CLASS DATA ========= -->
<A NAME="navbar_top"></A>

<div id="footer">
Generated by <a href="http://www.mulesoft.com/devkit">Mule DevKit</a>. Document generation technology based on <a href="http://code.google.com/p/doclava/">Google's Doclava</a>.
</div> <!-- end footer -->

</div> <!-- jd-content -->

</div><!-- end doc-content -->

</div> <!-- end body-content --> 

<script type="text/javascript">
init(); /* initialize mule-developer-docs.js */
</script>

</body>
</html>
